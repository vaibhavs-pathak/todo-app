!function(y,k,S){"use strict";k=void 0!==k&&k.Math==Math?k:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),y.fn.nag=function(d){var u,e=y(this),m=e.selector||"",f=(new Date).getTime(),p=[],h=d,b="string"==typeof h,v=[].slice.call(arguments,1);return e.each(function(){var n=y.isPlainObject(d)?y.extend(!0,{},y.fn.nag.settings,d):y.extend({},y.fn.nag.settings),e=(n.className,n.selector),r=n.error,o=n.namespace,t="."+o,i=o+"-module",s=y(this),a=(s.find(e.close),n.context?y(n.context):y("body")),g=this,l=s.data(i),c=(k.requestAnimationFrame||k.mozRequestAnimationFrame||k.webkitRequestAnimationFrame||k.msRequestAnimationFrame,{initialize:function(){c.verbose("Initializing element"),s.on("click"+t,e.close,c.dismiss).data(i,c),n.detachable&&s.parent()[0]!==a[0]&&s.detach().prependTo(a),0<n.displayTime&&setTimeout(c.hide,n.displayTime),c.show()},destroy:function(){c.verbose("Destroying instance"),s.removeData(i).off(t)},show:function(){c.should.show()&&!s.is(":visible")&&(c.debug("Showing nag",n.animation.show),"fade"==n.animation.show?s.fadeIn(n.duration,n.easing):s.slideDown(n.duration,n.easing))},hide:function(){c.debug("Showing nag",n.animation.hide),"fade"==n.animation.show?s.fadeIn(n.duration,n.easing):s.slideUp(n.duration,n.easing)},onHide:function(){c.debug("Removing nag",n.animation.hide),s.remove(),n.onHide&&n.onHide()},dismiss:function(e){n.storageMethod&&c.storage.set(n.key,n.value),c.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return n.persist?(c.debug("Persistent nag is set, can show nag"),!0):c.storage.get(n.key)!=n.value.toString()?(c.debug("Stored value is not set, can show nag",c.storage.get(n.key)),!0):(c.debug("Stored value is set, cannot show nag",c.storage.get(n.key)),!1)}},get:{storageOptions:function(){var e={};return n.expires&&(e.expires=n.expires),n.domain&&(e.domain=n.domain),n.path&&(e.path=n.path),e}},clear:function(){c.storage.remove(n.key)},storage:{set:function(e,o){var t=c.get.storageOptions();"localstorage"==n.storageMethod&&k.localStorage!==S?(k.localStorage.setItem(e,o),c.debug("Value stored using local storage",e,o)):"sessionstorage"==n.storageMethod&&k.sessionStorage!==S?(k.sessionStorage.setItem(e,o),c.debug("Value stored using session storage",e,o)):y.cookie!==S?(y.cookie(e,o,t),c.debug("Value stored using cookie",e,o,t)):c.error(r.noCookieStorage)},get:function(e,o){var t;return"localstorage"==n.storageMethod&&k.localStorage!==S?t=k.localStorage.getItem(e):"sessionstorage"==n.storageMethod&&k.sessionStorage!==S?t=k.sessionStorage.getItem(e):y.cookie!==S?t=y.cookie(e):c.error(r.noCookieStorage),t="undefined"!=t&&"null"!=t&&t!==S&&null!==t?t:S},remove:function(e){var o=c.get.storageOptions();"localstorage"==n.storageMethod&&k.localStorage!==S?k.localStorage.removeItem(e):"sessionstorage"==n.storageMethod&&k.sessionStorage!==S?k.sessionStorage.removeItem(e):y.cookie!==S?y.removeCookie(e,o):c.error(r.noStorage)}},setting:function(e,o){if(c.debug("Changing setting",e,o),y.isPlainObject(e))y.extend(!0,n,e);else{if(o===S)return n[e];y.isPlainObject(n[e])?y.extend(!0,n[e],o):n[e]=o}},internal:function(e,o){if(y.isPlainObject(e))y.extend(!0,c,e);else{if(o===S)return c[e];c[e]=o}},debug:function(){!n.silent&&n.debug&&(n.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,n.name+":"),c.debug.apply(console,arguments)))},verbose:function(){!n.silent&&n.verbose&&n.debug&&(n.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),c.verbose.apply(console,arguments)))},error:function(){n.silent||(c.error=Function.prototype.bind.call(console.error,console,n.name+":"),c.error.apply(console,arguments))},performance:{log:function(e){var o,t;n.performance&&(t=(o=(new Date).getTime())-(f||o),f=o,p.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:g,"Execution Time":t})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var e=n.name+":",t=0;f=!1,clearTimeout(c.performance.timer),y.each(p,function(e,o){t+=o["Execution Time"]}),e+=" "+t+"ms",m&&(e+=" '"+m+"'"),(console.group!==S||console.table!==S)&&0<p.length&&(console.groupCollapsed(e),console.table?console.table(p):y.each(p,function(e,o){console.log(o.Name+": "+o["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(n,e,o){var i,s,t,a=l;return e=e||v,o=g||o,"string"==typeof n&&a!==S&&(n=n.split(/[\. ]/),i=n.length-1,y.each(n,function(e,o){var t=e!=i?o+n[e+1].charAt(0).toUpperCase()+n[e+1].slice(1):n;if(y.isPlainObject(a[t])&&e!=i)a=a[t];else{if(a[t]!==S)return s=a[t],!1;{if(!y.isPlainObject(a[o])||e==i)return a[o]!==S?s=a[o]:c.error(r.method,n),!1;a=a[o]}}})),y.isFunction(s)?t=s.apply(o,e):s!==S&&(t=s),y.isArray(u)?u.push(t):u!==S?u=[u,t]:t!==S&&(u=t),s}});b?(l===S&&c.initialize(),c.invoke(h)):(l!==S&&l.invoke("destroy"),c.initialize())}),u!==S?u:this},y.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},y.extend(y.easing,{easeOutQuad:function(e,o,t,n,i){return-n*(o/=i)*(o-2)+t}})}(jQuery,window,void document);