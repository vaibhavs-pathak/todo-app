!function(E,e,P,T){"use strict";void 0!==(e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&e.Math==Math||"undefined"!=typeof self&&self.Math==Math||Function("return this")();E.fn.progress=function(m){var b,e=E(this),h=e.selector||"",x=(new Date).getTime(),w=[],y=m,V="string"==typeof y,C=[].slice.call(arguments,1);return e.each(function(){var r=E.isPlainObject(m)?E.extend(!0,{},E.fn.progress.settings,m):E.extend({},E.fn.progress.settings),t=r.className,n=r.metadata,e=r.namespace,d=r.selector,s=r.error,g="."+e,v="module-"+e,a=E(this),o=E(this).find(d.bar),p=E(this).find(d.progress),f=E(this).find(d.label),l=this,c=a.data(v),i=!1,u={initialize:function(){u.debug("Initializing progress bar",r),u.set.duration(),u.set.transitionEvent(),u.read.metadata(),u.read.settings(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of progress",u),c=u,a.data(v,u)},destroy:function(){u.verbose("Destroying previous progress for",a),clearInterval(c.interval),u.remove.state(),a.removeData(v),c=T},reset:function(){u.remove.nextValue(),u.update.progress(0)},complete:function(){(u.percent===T||u.percent<100)&&(u.remove.progressPoll(),u.set.percent(100))},read:{metadata:function(){var e={percent:a.data(n.percent),total:a.data(n.total),value:a.data(n.value)};e.percent&&(u.debug("Current percent value set from metadata",e.percent),u.set.percent(e.percent)),e.total&&(u.debug("Total value set from metadata",e.total),u.set.total(e.total)),e.value&&(u.debug("Current value set from metadata",e.value),u.set.value(e.value),u.set.progress(e.value))},settings:function(){!1!==r.total&&(u.debug("Current total set in settings",r.total),u.set.total(r.total)),!1!==r.value&&(u.debug("Current value set in settings",r.value),u.set.value(r.value),u.set.progress(u.value)),!1!==r.percent&&(u.debug("Current percent set in settings",r.percent),u.set.percent(r.percent))}},bind:{transitionEnd:function(t){var e=u.get.transitionEnd();o.one(e+g,function(e){clearTimeout(u.failSafeTimer),t.call(this,e)}),u.failSafeTimer=setTimeout(function(){o.triggerHandler(e)},r.duration+r.failSafeDelay),u.verbose("Adding fail safe timer",u.timer)}},increment:function(e){var t,n;u.has.total()?n=(t=u.get.value())+(e=e||1):(t=u.get.percent(),e=e||u.get.randomValue(),u.debug("Incrementing percentage by",t,n=t+e)),n=u.get.normalizedValue(n),u.set.progress(n)},decrement:function(e){var t,n;u.get.total()?(n=(t=u.get.value())-(e=e||1),u.debug("Decrementing value by",e,t)):(n=(t=u.get.percent())-(e=e||u.get.randomValue()),u.debug("Decrementing percentage by",e,t)),n=u.get.normalizedValue(n),u.set.progress(n)},has:{progressPoll:function(){return u.progressPoll},total:function(){return!1!==u.get.total()}},get:{text:function(e){var t=u.value||0,n=u.total||0,r=i?u.get.displayPercent():u.percent||0,a=0<u.total?n-t:100-r;return e=(e=e||"").replace("{value}",t).replace("{total}",n).replace("{left}",a).replace("{percent}",r),u.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return u.debug("Value cannot decrement below 0"),0;if(u.has.total()){if(e>u.total)return u.debug("Value cannot increment above total",u.total),u.total}else if(100<e)return u.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==r.updateInterval?r.duration:r.updateInterval},randomValue:function(){return u.debug("Generating random increment percentage"),Math.floor(Math.random()*r.random.max+r.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=P.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==T)return n[e]},displayPercent:function(){var e=o.width(),t=a.width(),e=parseInt(o.css("min-width"),10)<e?e/t*100:u.percent;return 0<r.precision?Math.round(e*(10*r.precision))/(10*r.precision):Math.round(e)},percent:function(){return u.percent||0},value:function(){return u.nextValue||u.value||0},total:function(){return u.total||!1}},create:{progressPoll:function(){u.progressPoll=setTimeout(function(){u.update.toNextValue(),u.remove.progressPoll()},u.get.updateInterval())}},is:{complete:function(){return u.is.success()||u.is.warning()||u.is.error()},success:function(){return a.hasClass(t.success)},warning:function(){return a.hasClass(t.warning)},error:function(){return a.hasClass(t.error)},active:function(){return a.hasClass(t.active)},visible:function(){return a.is(":visible")}},remove:{progressPoll:function(){u.verbose("Removing progress poll timer"),u.progressPoll&&(clearTimeout(u.progressPoll),delete u.progressPoll)},nextValue:function(){u.verbose("Removing progress value stored for next update"),delete u.nextValue},state:function(){u.verbose("Removing stored state"),delete u.total,delete u.percent,delete u.value},active:function(){u.verbose("Removing active state"),a.removeClass(t.active)},success:function(){u.verbose("Removing success state"),a.removeClass(t.success)},warning:function(){u.verbose("Removing warning state"),a.removeClass(t.warning)},error:function(){u.verbose("Removing error state"),a.removeClass(t.error)}},set:{barWidth:function(e){100<e?u.error(s.tooHigh,e):e<0?u.error(s.tooLow,e):(o.css("width",e+"%"),a.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||r.duration,u.verbose("Setting progress bar transition duration",e="number"==typeof e?e+"ms":e),o.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=0<r.precision?Math.round(e*(10*r.precision))/(10*r.precision):Math.round(e),u.percent=e,u.has.total()||(u.value=0<r.precision?Math.round(e/100*u.total*(10*r.precision))/(10*r.precision):Math.round(e/100*u.total*10)/10,r.limitValues&&(u.value=100<u.value?100:u.value<0?0:u.value)),u.set.barWidth(e),u.set.labelInterval(),u.set.labels(),r.onChange.call(l,e,u.value,u.total)},labelInterval:function(){clearInterval(u.interval),u.bind.transitionEnd(function(){u.verbose("Bar finished animating, removing continuous label updates"),clearInterval(u.interval),i=!1,u.set.labels()}),i=!0,u.interval=setInterval(function(){E.contains(P.documentElement,l)||(clearInterval(u.interval),i=!1),u.set.labels()},r.framerate)},labels:function(){u.verbose("Setting both bar progress and outer label text"),u.set.barLabel(),u.set.state()},label:function(e){(e=e||"")&&(e=u.get.text(e),u.verbose("Setting label to text",e),f.text(e))},state:function(e){100===(e=e!==T?e:u.percent)?r.autoSuccess&&!(u.is.warning()||u.is.error()||u.is.success())?(u.set.success(),u.debug("Automatically triggering success at 100%")):(u.verbose("Reached 100% removing active state"),u.remove.active(),u.remove.progressPoll()):0<e?(u.verbose("Adjusting active progress bar label",e),u.set.active()):(u.remove.active(),u.set.label(r.text.active))},barLabel:function(e){e!==T?p.text(u.get.text(e)):"ratio"==r.label&&u.total?(u.verbose("Adding ratio to bar label"),p.text(u.get.text(r.text.ratio))):"percent"==r.label&&(u.verbose("Adding percentage to bar label"),p.text(u.get.text(r.text.percent)))},active:function(e){e=e||r.text.active,u.debug("Setting active state"),r.showActivity&&!u.is.active()&&a.addClass(t.active),u.remove.warning(),u.remove.error(),u.remove.success(),(e=r.onLabelUpdate("active",e,u.value,u.total))&&u.set.label(e),u.bind.transitionEnd(function(){r.onActive.call(l,u.value,u.total)})},success:function(e){e=e||r.text.success||r.text.active,u.debug("Setting success state"),a.addClass(t.success),u.remove.active(),u.remove.warning(),u.remove.error(),u.complete(),e=r.text.success?r.onLabelUpdate("success",e,u.value,u.total):r.onLabelUpdate("active",e,u.value,u.total),u.set.label(e),u.bind.transitionEnd(function(){r.onSuccess.call(l,u.total)})},warning:function(e){e=e||r.text.warning,u.debug("Setting warning state"),a.addClass(t.warning),u.remove.active(),u.remove.success(),u.remove.error(),u.complete(),(e=r.onLabelUpdate("warning",e,u.value,u.total))&&u.set.label(e),u.bind.transitionEnd(function(){r.onWarning.call(l,u.value,u.total)})},error:function(e){e=e||r.text.error,u.debug("Setting error state"),a.addClass(t.error),u.remove.active(),u.remove.success(),u.remove.warning(),u.complete(),(e=r.onLabelUpdate("error",e,u.value,u.total))&&u.set.label(e),u.bind.transitionEnd(function(){r.onError.call(l,u.value,u.total)})},transitionEvent:function(){u.get.transitionEnd()},total:function(e){u.total=e},value:function(e){u.value=e},progress:function(e){u.has.progressPoll()?(u.debug("Updated within interval, setting next update to use new value",e),u.set.nextValue(e)):(u.debug("First update in progress update interval, immediately updating",e),u.update.progress(e),u.create.progressPoll())},nextValue:function(e){u.nextValue=e}},update:{toNextValue:function(){var e=u.nextValue;e&&(u.debug("Update interval complete using last updated value",e),u.update.progress(e),u.remove.nextValue())},progress:function(e){var t;!1===(e=u.get.numericValue(e))&&u.error(s.nonNumeric,e),e=u.get.normalizedValue(e),u.has.total()?(u.set.value(e),t=e/u.total*100,u.debug("Calculating percent complete from total",t)):(t=e,u.debug("Setting value to exact percentage value",t)),u.set.percent(t)}},setting:function(e,t){if(u.debug("Changing setting",e,t),E.isPlainObject(e))E.extend(!0,r,e);else{if(t===T)return r[e];E.isPlainObject(r[e])?E.extend(!0,r[e],t):r[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,u,e);else{if(t===T)return u[e];u[e]=t}},debug:function(){!r.silent&&r.debug&&(r.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,r.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!r.silent&&r.verbose&&r.debug&&(r.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),u.verbose.apply(console,arguments)))},error:function(){r.silent||(u.error=Function.prototype.bind.call(console.error,console,r.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,n;r.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:l,"Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var e=r.name+":",n=0;x=!1,clearTimeout(u.performance.timer),E.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",h&&(e+=" '"+h+"'"),(console.group!==T||console.table!==T)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):E.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(r,e,t){var a,o,n,i=c;return e=e||C,t=l||t,"string"==typeof r&&i!==T&&(r=r.split(/[\. ]/),a=r.length-1,E.each(r,function(e,t){var n=e!=a?t+r[e+1].charAt(0).toUpperCase()+r[e+1].slice(1):r;if(E.isPlainObject(i[n])&&e!=a)i=i[n];else{if(i[n]!==T)return o=i[n],!1;{if(!E.isPlainObject(i[t])||e==a)return i[t]!==T?o=i[t]:u.error(s.method,r),!1;i=i[t]}}})),E.isFunction(o)?n=o.apply(t,e):o!==T&&(n=o),E.isArray(b)?b.push(n):b!==T?b=[b,n]:n!==T&&(b=n),o}};V?(c===T&&u.initialize(),u.invoke(y)):(c!==T&&c.invoke("destroy"),u.initialize())}),b!==T?b:this},E.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,r){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document);